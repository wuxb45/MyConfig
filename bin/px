#!/bin/bash
OPT='-e'
if [[ -n ${1} ]]; then
  OPT="-u ${1}"
fi
ps ${OPT} -o 'tty:5,start:8,time:8,rss:8,euser:6,pid:6,ppid:6,cmd' --forest | grep -v ']$' | \
(
  local leftsize=0;
  while read -r line; do
    if [[ $leftsize -eq 0 ]]; then
      leftsize=$(( ${#line} - 3))
      echo "${line}"
    else
      echo -n "${line:0:$leftsize}"
      tfg 18
      echo "${line:$leftsize}"
      txx
    fi
  done
)
